!function(){"use strict";var state={current:0,previous:0,decimals:null,operatorClicked:!1,operator:null},utilities={divide:function(){state.operator=function(a,b){return a/b},utilities.setPrevious()},multiply:function(){state.operator=function(a,b){return a*b},utilities.setPrevious()},subtract:function(){state.operator=function(a,b){return a-b},utilities.setPrevious()},add:function(){state.operator=function(a,b){return a+b},utilities.setPrevious()},clear:function(){state.current=0,state.previous=0,state.decimals=null,utilities.updateDisplay()},sign:function(){state.current=-state.current,utilities.updateDisplay()},percentage:function(){state.current=state.current/100,utilities.updateDisplay()},dot:function(){-1===String(state.current).indexOf(".")&&(state.decimals=1)},equal:function(){state.current=state.operator(state.current,state.previous),state.previous=0,utilities.updateDisplay()},append:function(){var number=parseInt(this.textContent);state.operatorClicked&&(state.current=0,state.decimals=null,state.operatorClicked=!1),state.decimals?state.current+=number/Math.pow(10,state.decimals++):state.current=10*state.current+number,utilities.updateDisplay()},updateDisplay:function(){document.getElementById("display").innerHTML=state.current},setPrevious:function(){state.previous=state.current,state.operatorClicked=!0}};utilities.updateDisplay();for(var numbers=document.getElementsByClassName("number"),i=0;i<numbers.length;i++)numbers[i].addEventListener("click",utilities.append);for(var notNumbers=document.getElementsByClassName("not-number"),j=0;j<notNumbers.length;j++)notNumbers[j].addEventListener("click",utilities[notNumbers[j].id])}();